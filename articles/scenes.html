<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="scenes">
<title>Changing scenes • scenes</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changing scenes">
<meta property="og:description" content="scenes">
<meta property="og:image" content="https://shinyworks.github.io/scenes/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">scenes</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/scenes.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/actions.html">Creating new actions</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/shinyworks/scenes/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Changing scenes</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/shinyworks/scenes/blob/HEAD/vignettes/scenes.Rmd" class="external-link"><code>vignettes/scenes.Rmd</code></a></small>
      <div class="d-none name"><code>scenes.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shinyworks.github.io/scenes/">scenes</a></span><span class="op">)</span></span></code></pre></div>
<p>When a <a href="https://shiny.posit.co/" class="external-link">shiny</a> app loads, it receives a
<code>request</code> object, with properties such as
<code>QUERY_STRING</code> (the <code>?x=1&amp;y=2</code> part of a url)
and <code>HTTP_COOKIE</code> (the names and values of cookies). Use
<a href="https://shinyworks.github.io/scenes/">scenes</a> to switch between alternative <a href="https://shiny.posit.co/" class="external-link">shiny</a>
UIs depending on properties of that <code>request</code> object.</p>
<div class="section level2">
<h2 id="why">Why?<a class="anchor" aria-label="anchor" href="#why"></a>
</h2>
<p>It’s possible to process the <code>request</code> using a UI
<em>function,</em> instead of a standard <code><a href="https://rstudio.github.io/htmltools/reference/tagList.html" class="external-link">shiny::tagList()</a></code>.
So why not process the <code>request</code> through such a function?</p>
<p>I created <a href="https://shinyworks.github.io/scenes/">scenes</a> to write a single login process for
the apps I produce for the <a href="https://www.rfordatasci.com/" class="external-link">R4DS
Online Learning Community</a>. The goal was to create each UI without
having to think about login, and then wrap those UIs in the common login
framework. That process became the <a href="https://github.com/r4ds/shinyslack" class="external-link"><code>{shinyslack}</code></a>
package.</p>
<p>Perhaps you have your own login process. Or perhaps you want to show
completely different UIs to different customer segments visiting the
same URL, depending on a cookie or a query parameter.
<a href="https://shinyworks.github.io/scenes/">scenes</a> exists to enables these workflows.</p>
</div>
<div class="section level2">
<h2 id="a-toy-example">A toy example<a class="anchor" aria-label="anchor" href="#a-toy-example"></a>
</h2>
<p>Here I’ll demonstrate a simple example of changing UIs based on
various <code>request</code> parameters. You can see a deployed version
of this app at <a href="https://r4dscommunity.shinyapps.io/scenes/" class="external-link uri">https://r4dscommunity.shinyapps.io/scenes/</a>.</p>
<div class="section level3">
<h3 id="the-uis">The UIs<a class="anchor" aria-label="anchor" href="#the-uis"></a>
</h3>
<p>First we’ll create four simple UIs. You can ignore the specifics of
these UIs for now, but you might want to come back to see how they work
once you run the app. In a real <a href="https://shinyworks.github.io/scenes/">scenes</a> app, these should
each be a <code><a href="https://rstudio.github.io/htmltools/reference/tagList.html" class="external-link">shiny::tagList()</a></code> UI or UI function.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># ui1 loads if none of the requirements are met.</span></span>
<span><span class="va">ui1</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html" class="external-link">tagList</a></span><span class="op">(</span></span>
<span>  <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">p</a></span><span class="op">(</span><span class="st">"This is UI 1."</span><span class="op">)</span>,</span>
<span>  <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">a</a></span><span class="op">(</span><span class="st">"Add '?code' to the URL to see UI 2."</span>, href <span class="op">=</span> <span class="st">"?code"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># ui2 allows us to create the cookie requirement for ui3.</span></span>
<span><span class="va">ui2</span> <span class="op">&lt;-</span> <span class="fu">cookies</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/cookies/man/add_cookie_handlers.html" class="external-link">add_cookie_handlers</a></span><span class="op">(</span></span>
<span>  <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html" class="external-link">tagList</a></span><span class="op">(</span></span>
<span>    <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">p</a></span><span class="op">(</span><span class="st">"This is UI 2."</span><span class="op">)</span>,</span>
<span>    <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/actionButton.html" class="external-link">actionButton</a></span><span class="op">(</span><span class="st">"cookie_simple"</span>, <span class="st">"Store Simple Cookie"</span><span class="op">)</span>,</span>
<span>    <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">p</a></span><span class="op">(</span><span class="st">"Press the button to see UI 3."</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># ui3 allows us to update that cookie to one that will pass validation.</span></span>
<span><span class="va">ui3</span> <span class="op">&lt;-</span> <span class="fu">cookies</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/cookies/man/add_cookie_handlers.html" class="external-link">add_cookie_handlers</a></span><span class="op">(</span></span>
<span>  <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html" class="external-link">tagList</a></span><span class="op">(</span></span>
<span>    <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">p</a></span><span class="op">(</span><span class="st">"This is UI 3."</span><span class="op">)</span>,</span>
<span>    <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/actionButton.html" class="external-link">actionButton</a></span><span class="op">(</span><span class="st">"cookie_valid"</span>, <span class="st">"Store Valid Cookie"</span><span class="op">)</span>,</span>
<span>    <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">p</a></span><span class="op">(</span><span class="st">"Press the button to see UI 4."</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># ui4 only loads when everything is all set. It has a button to reset things.</span></span>
<span><span class="va">ui4</span> <span class="op">&lt;-</span> <span class="fu">cookies</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/cookies/man/add_cookie_handlers.html" class="external-link">add_cookie_handlers</a></span><span class="op">(</span></span>
<span>  <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html" class="external-link">tagList</a></span><span class="op">(</span></span>
<span>    <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">p</a></span><span class="op">(</span><span class="st">"This is UI 4."</span><span class="op">)</span>,</span>
<span>    <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/actionButton.html" class="external-link">actionButton</a></span><span class="op">(</span><span class="st">"reset"</span>, <span class="st">"Reset"</span><span class="op">)</span>,</span>
<span>    <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">p</a></span><span class="op">(</span><span class="st">"Press the button to go back to UI 2."</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>We’ll use <em>actions</em> to decide which of those UIs to
display.</p>
</div>
<div class="section level3">
<h3 id="scenes-and-actions">Scenes and actions<a class="anchor" aria-label="anchor" href="#scenes-and-actions"></a>
</h3>
<p>In <a href="https://shinyworks.github.io/scenes/">scenes</a>, a <code>shiny_scene</code> associates a UI
with one or more <code>scene_actions</code> that are used to choose it.
In this case, we’ll display our UIs in these four situations:</p>
<ul>
<li>Display <code>ui4</code> when the user has a particular cookie set
and the value of that cookie successfully passes a validation
function.</li>
<li>Display <code>ui3</code> when the user has that cookie set, but
their value doesn’t validate.</li>
<li>Display <code>ui2</code> when the user has a particular parameter in
the URL query string.</li>
<li>Display <code>ui1</code> when none of those cases are true. In a
real app, this final UI would likely be the login screen, or perhaps an
error page.</li>
</ul>
<p>In this toy example, our cookies are “valid” if they have a certain
value. That value changes sometimes, so we create a validation function
that accepts both the cookie value and the acceptable value.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">our_cookie_validator</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">cookie_value</span>, <span class="va">acceptable</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">cookie_value</span> <span class="op">==</span> <span class="va">acceptable</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>We wrap <code>ui4</code> with the <code><a href="../reference/req_has_cookie.html">req_has_cookie()</a></code>
action, into a <code>shiny_scene</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">scene4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_scene.html">set_scene</a></span><span class="op">(</span></span>
<span>  <span class="va">ui4</span>,</span>
<span>  <span class="fu"><a href="../reference/req_has_cookie.html">req_has_cookie</a></span><span class="op">(</span></span>
<span>    cookie_name <span class="op">=</span> <span class="st">"our_cookie"</span>,</span>
<span>    validation_fn <span class="op">=</span> <span class="va">our_cookie_validator</span>,</span>
<span>    acceptable <span class="op">=</span> <span class="st">"good value"</span> <span class="co"># We can pass variables through to our validator.</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The <code>shiny_scene</code> for <code>ui3</code> is similar, but we
skip the validation. In other words, they must have the cookie set, but
we don’t care what value it has.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">scene3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_scene.html">set_scene</a></span><span class="op">(</span></span>
<span>  <span class="va">ui3</span>,</span>
<span>  <span class="fu"><a href="../reference/req_has_cookie.html">req_has_cookie</a></span><span class="op">(</span></span>
<span>    cookie_name <span class="op">=</span> <span class="st">"our_cookie"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>For <code>ui2</code>, we’re looking for a parameter named “code”. We
don’t care what the value is (if we did, we’d pass a vector of
acceptable values).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">scene2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_scene.html">set_scene</a></span><span class="op">(</span></span>
<span>  <span class="va">ui2</span>,</span>
<span>  <span class="fu"><a href="../reference/req_has_query.html">req_has_query</a></span><span class="op">(</span><span class="st">"code"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Finally, we set up a scene without any actions for our fall-through
UI.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">scene1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_scene.html">set_scene</a></span><span class="op">(</span></span>
<span>  <span class="va">ui1</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="scene-changes">Scene changes<a class="anchor" aria-label="anchor" href="#scene-changes"></a>
</h3>
<p>We wrap our scenes together with <code><a href="../reference/change_scene.html">change_scene()</a></code>. We list
the scenes in priority order.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/change_scene.html">change_scene</a></span><span class="op">(</span></span>
<span>  <span class="va">scene4</span>,</span>
<span>  <span class="va">scene3</span>,</span>
<span>  <span class="va">scene2</span>,</span>
<span>  <span class="va">scene1</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>We can use this <code>ui</code> just like any other
<a href="https://shiny.posit.co/" class="external-link">shiny</a> UI.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Any UI that the user sees will use this</span></span>
<span><span class="co"># shared server backend.</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># If they press the button in ui2, save a cookie and reload.</span></span>
<span>  <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">observeEvent</a></span><span class="op">(</span></span>
<span>    <span class="va">input</span><span class="op">$</span><span class="va">cookie_simple</span>,</span>
<span>    <span class="op">{</span></span>
<span>      <span class="fu">cookies</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/cookies/man/set_cookie.html" class="external-link">set_cookie</a></span><span class="op">(</span><span class="st">"our_cookie"</span>, <span class="st">"bad value"</span><span class="op">)</span></span>
<span>      <span class="va">session</span><span class="op">$</span><span class="fu">reload</span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># If they press the button in ui3, save a "valid" cookie and reload.</span></span>
<span>  <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">observeEvent</a></span><span class="op">(</span></span>
<span>    <span class="va">input</span><span class="op">$</span><span class="va">cookie_valid</span>,</span>
<span>    <span class="op">{</span></span>
<span>      <span class="fu">cookies</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/cookies/man/set_cookie.html" class="external-link">set_cookie</a></span><span class="op">(</span><span class="st">"our_cookie"</span>, <span class="st">"good value"</span><span class="op">)</span></span>
<span>      <span class="va">session</span><span class="op">$</span><span class="fu">reload</span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># If they press the reset button in ui4, delete the cookie and reload.</span></span>
<span>  <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">observeEvent</a></span><span class="op">(</span></span>
<span>    <span class="va">input</span><span class="op">$</span><span class="va">reset</span>,</span>
<span>    <span class="op">{</span></span>
<span>      <span class="fu">cookies</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/cookies/man/remove_cookie.html" class="external-link">remove_cookie</a></span><span class="op">(</span><span class="st">"our_cookie"</span><span class="op">)</span></span>
<span>      <span class="va">session</span><span class="op">$</span><span class="fu">reload</span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span></span>
<span>  ui <span class="op">=</span> <span class="va">ui</span>,</span>
<span>  server <span class="op">=</span> <span class="va">server</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Jon Harmon.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
